00:00 +0: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart                                                                          Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
packages/redpanda_light_client/test/unit/backoff_test.dart:7:8: Error: Not found: 'package:mocktail/mocktail.dart'
import 'package:mocktail/mocktail.dart';
       ^
packages/redpanda_light_client/test/unit/backoff_test.dart:9:26: Error: Type 'Fake' not found.
class FakeSocket extends Fake implements Socket {
                         ^^^^
packages/redpanda_light_client/test/unit/backoff_test.dart:9:7: Error: The non-abstract class 'FakeSocket' is missing implementations for these members:
 - EventSink.addError
 - IOSink.addError
 - IOSink.addStream
 - IOSink.done
 - IOSink.encoding
 - IOSink.flush
 - IOSink.write
 - IOSink.writeAll
 - IOSink.writeCharCode
 - IOSink.writeln
 - Socket.addError
 - Socket.address
 - Socket.done
 - Socket.getRawOption
 - Socket.port
 - Socket.remoteAddress
 - Socket.remotePort
 - Socket.setRawOption
 - Stream.any
 - Stream.asBroadcastStream
 - Stream.asyncExpand
 - Stream.asyncMap
 - Stream.cast
 - Stream.contains
 - Stream.distinct
 - Stream.drain
 - Stream.elementAt
 - Stream.every
 - Stream.expand
 - Stream.first
 - Stream.firstWhere
 - Stream.fold
 - Stream.forEach
 - Stream.handleError
 - Stream.isBroadcast
 - Stream.isEmpty
 - Stream.join
 - Stream.last
 - Stream.lastWhere
 - Stream.length
 - Stream.map
 - Stream.pipe
 - Stream.reduce
 - Stream.single
 - Stream.singleWhere
 - Stream.skip
 - Stream.skipWhile
 - Stream.take
 - Stream.takeWhile
 - Stream.timeout
 - Stream.toList
 - Stream.toSet
 - Stream.transform
 - Stream.where
 - StreamConsumer.addStream
 - StreamSink.done
 - StringSink.write
 - StringSink.writeAll
 - StringSink.writeCharCode
 - StringSink.writeln
Try to either
 - provide an implementation,
 - inherit an implementation from a superclass or mixin,
 - mark the class as abstract, or
 - provide a 'noSuchMethod' implementation.
class FakeSocket extends Fake implements Socket {
      ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
  void addError(error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
  Future addStream(Stream<List<int>> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
  late Encoding encoding;
                ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
  Future flush();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
  void writeAll(Iterable objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
  InternetAddress get address;
                      ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
  Uint8List getRawOption(RawSocketOption option);
            ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
  int get port;
          ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
  InternetAddress get remoteAddress;
                      ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
  int get remotePort;
          ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
  void setRawOption(RawSocketOption option);
       ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
  Future<bool> any(bool test(T element)) {
               ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
  Stream<T> asBroadcastStream({
            ^^^^^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
  Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
  Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
  Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
  Future<bool> contains(Object? needle) {
               ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
  Stream<T> distinct([bool equals(T previous, T next)?]) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
  Future<E> drain<E>([E? futureValue]) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
  Future<T> elementAt(int index) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
  Future<bool> every(bool test(T element)) {
               ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
  Stream<S> expand<S>(Iterable<S> convert(T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
  Future<T> get first {
                ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
  Future<T> firstWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
  Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
  Future<void> forEach(void action(T element)) {
               ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
  Stream<T> handleError(Function onError, {bool test(error)?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
  bool get isBroadcast => false;
           ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
  Future<bool> get isEmpty {
                   ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
  Future<String> join([String separator = ""]) {
                 ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
  Future<T> get last {
                ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
  Future<T> lastWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
  Future<int> get length {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
  Stream<S> map<S>(S convert(T event)) {
            ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
  Future pipe(StreamConsumer<T> streamConsumer) {
         ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
  Future<T> reduce(T combine(T previous, T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
  Future<T> get single {
                ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
  Future<T> singleWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
  Stream<T> skip(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
  Stream<T> skipWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
  Stream<T> take(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
  Stream<T> takeWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
  Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
            ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
  Future<List<T>> toList() {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
  Future<Set<T>> toSet() {
                 ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
  Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
  Stream<T> where(bool test(T event)) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
  Future addStream(Stream<S> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
  void writeAll(Iterable<dynamic> objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
00:00 +0 -1: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/backoff_test.dart [E]                                                                              
  Failed to load "/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/backoff_test.dart":
  Compilation failed for testPath=/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/backoff_test.dart: Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
  packages/redpanda_light_client/test/unit/backoff_test.dart:7:8: Error: Not found: 'package:mocktail/mocktail.dart'
  import 'package:mocktail/mocktail.dart';
         ^
  packages/redpanda_light_client/test/unit/backoff_test.dart:9:26: Error: Type 'Fake' not found.
  class FakeSocket extends Fake implements Socket {
                           ^^^^
  packages/redpanda_light_client/test/unit/backoff_test.dart:9:7: Error: The non-abstract class 'FakeSocket' is missing implementations for these members:
   - EventSink.addError
   - IOSink.addError
   - IOSink.addStream
   - IOSink.done
   - IOSink.encoding
   - IOSink.flush
   - IOSink.write
   - IOSink.writeAll
   - IOSink.writeCharCode
   - IOSink.writeln
   - Socket.addError
   - Socket.address
   - Socket.done
   - Socket.getRawOption
   - Socket.port
   - Socket.remoteAddress
   - Socket.remotePort
   - Socket.setRawOption
   - Stream.any
   - Stream.asBroadcastStream
   - Stream.asyncExpand
   - Stream.asyncMap
   - Stream.cast
   - Stream.contains
   - Stream.distinct
   - Stream.drain
   - Stream.elementAt
   - Stream.every
   - Stream.expand
   - Stream.first
   - Stream.firstWhere
   - Stream.fold
   - Stream.forEach
   - Stream.handleError
   - Stream.isBroadcast
   - Stream.isEmpty
   - Stream.join
   - Stream.last
   - Stream.lastWhere
   - Stream.length
   - Stream.map
   - Stream.pipe
   - Stream.reduce
   - Stream.single
   - Stream.singleWhere
   - Stream.skip
   - Stream.skipWhile
   - Stream.take
   - Stream.takeWhile
   - Stream.timeout
   - Stream.toList
   - Stream.toSet
   - Stream.transform
   - Stream.where
   - StreamConsumer.addStream
   - StreamSink.done
   - StringSink.write
   - StringSink.writeAll
   - StringSink.writeCharCode
   - StringSink.writeln
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  class FakeSocket extends Fake implements Socket {
        ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
    void addError(error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
    Future addStream(Stream<List<int>> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
    late Encoding encoding;
                  ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
    Future flush();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
    void writeAll(Iterable objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
    InternetAddress get address;
                        ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
    Uint8List getRawOption(RawSocketOption option);
              ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
    int get port;
            ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
    InternetAddress get remoteAddress;
                        ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
    int get remotePort;
            ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
    void setRawOption(RawSocketOption option);
         ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
    Future<bool> any(bool test(T element)) {
                 ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
    Stream<T> asBroadcastStream({
              ^^^^^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
    Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
    Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
    Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
    Future<bool> contains(Object? needle) {
                 ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
    Stream<T> distinct([bool equals(T previous, T next)?]) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
    Future<E> drain<E>([E? futureValue]) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
    Future<T> elementAt(int index) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
    Future<bool> every(bool test(T element)) {
                 ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
    Stream<S> expand<S>(Iterable<S> convert(T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
    Future<T> get first {
                  ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
    Future<T> firstWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
    Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
    Future<void> forEach(void action(T element)) {
                 ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
    Stream<T> handleError(Function onError, {bool test(error)?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
    bool get isBroadcast => false;
             ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
    Future<bool> get isEmpty {
                     ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
    Future<String> join([String separator = ""]) {
                   ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
    Future<T> get last {
                  ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
    Future<T> lastWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
    Future<int> get length {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
    Stream<S> map<S>(S convert(T event)) {
              ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
    Future pipe(StreamConsumer<T> streamConsumer) {
           ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
    Future<T> reduce(T combine(T previous, T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
    Future<T> get single {
                  ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
    Future<T> singleWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
    Stream<T> skip(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
    Stream<T> skipWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
    Stream<T> take(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
    Stream<T> takeWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
    Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
              ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
    Future<List<T>> toList() {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
    Future<Set<T>> toSet() {
                   ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
    Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
    Stream<T> where(bool test(T event)) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
    Future addStream(Stream<S> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
    void writeAll(Iterable<dynamic> objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/backoff_test.dart -p vm --plain-name 'loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/backoff_test.dart'
00:00 +0 -2: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart [E]                                                                   
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 911:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart -p vm --plain-name 'loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart'
00:01 +0 -2: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +0 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart: Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 0
RedPandaLightClient: Running connection check. Known peers: 1
ActivePeer(localhost:5000): Connecting...
ActivePeer(localhost:5000): TCP Connected. Sending Handshake...
00:01 +0 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to all seeds initially                        
RedPandaLightClient: Running connection check. Known peers: 2
00:01 +0 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart: Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)
ActivePeer(localhost:5000): Handshake sent (30 bytes)
00:01 +0 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to all seeds initially                        
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 2
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001): TCP Connected. Sending Handshake...
ActivePeer(localhost:1001): Handshake sent (30 bytes)
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001): TCP Connected. Sending Handshake...
ActivePeer(localhost:1001): Handshake sent (30 bytes)
ActivePeer(localhost:1002): Connecting...
ActivePeer(localhost:1002): TCP Connected. Sending Handshake...
ActivePeer(localhost:1002): Handshake sent (30 bytes)
00:01 +1 -2: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +1 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to all seeds initially                        
ActivePeer(localhost:1002): Connecting...
ActivePeer(localhost:1002): TCP Connected. Sending Handshake...
ActivePeer(localhost:1002): Handshake sent (30 bytes)
00:01 +1 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Fast Boot: Connects to top peers immediately on start
RedPandaLightClient: Running connection check. Known peers: 6
ActivePeer(127.0.0.1:1001): Connecting...
ActivePeer(127.0.0.1:1001): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1001): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1002): Connecting...
ActivePeer(127.0.0.1:1002): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1002): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1003): Connecting...
ActivePeer(127.0.0.1:1003): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1003): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1004): Connecting...
ActivePeer(127.0.0.1:1004): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1004): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1005): Connecting...
ActivePeer(127.0.0.1:1005): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1005): Handshake sent (30 bytes)
00:01 +2 -2: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
packages/redpanda_light_client/test/unit/handshake_test.dart:10:8: Error: Not found: 'package:mocktail/mocktail.dart'
import 'package:mocktail/mocktail.dart';
       ^
packages/redpanda_light_client/test/unit/handshake_test.dart:12:26: Error: Type 'Mock' not found.
class MockSocket extends Mock implements Socket {}
                         ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:96:38: Error: Type 'Mock' not found.
class MockStreamSubscription extends Mock
                                     ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:12:7: Error: The non-abstract class 'MockSocket' is missing implementations for these members:
 - EventSink.add
 - EventSink.addError
 - EventSink.close
 - IOSink.add
 - IOSink.addError
 - IOSink.addStream
 - IOSink.close
 - IOSink.done
 - IOSink.encoding
 - IOSink.flush
 - IOSink.write
 - IOSink.writeAll
 - IOSink.writeCharCode
 - IOSink.writeln
 - Sink.add
 - Sink.close
 - Socket.addError
 - Socket.address
 - Socket.close
 - Socket.destroy
 - Socket.done
 - Socket.getRawOption
 - Socket.port
 - Socket.remoteAddress
 - Socket.remotePort
 - Socket.setOption
 - Socket.setRawOption
 - Stream.any
 - Stream.asBroadcastStream
 - Stream.asyncExpand
 - Stream.asyncMap
 - Stream.cast
 - Stream.contains
 - Stream.distinct
 - Stream.drain
 - Stream.elementAt
 - Stream.every
 - Stream.expand
 - Stream.first
 - Stream.firstWhere
 - Stream.fold
 - Stream.forEach
 - Stream.handleError
 - Stream.isBroadcast
 - Stream.isEmpty
 - Stream.join
 - Stream.last
 - Stream.lastWhere
 - Stream.length
 - Stream.listen
 - Stream.map
 - Stream.pipe
 - Stream.reduce
 - Stream.single
 - Stream.singleWhere
 - Stream.skip
 - Stream.skipWhile
 - Stream.take
 - Stream.takeWhile
 - Stream.timeout
 - Stream.toList
 - Stream.toSet
 - Stream.transform
 - Stream.where
 - StreamConsumer.addStream
 - StreamConsumer.close
 - StreamSink.close
 - StreamSink.done
 - StringSink.write
 - StringSink.writeAll
 - StringSink.writeCharCode
 - StringSink.writeln
Try to either
 - provide an implementation,
 - inherit an implementation from a superclass or mixin,
 - mark the class as abstract, or
 - provide a 'noSuchMethod' implementation.
class MockSocket extends Mock implements Socket {}
      ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2285:8: Context: 'EventSink.add' is defined here.
  void add(T event);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2297:8: Context: 'EventSink.close' is defined here.
  void close();
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:59:8: Context: 'IOSink.add' is defined here.
  void add(List<int> data);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
  void addError(error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
  Future addStream(Stream<List<int>> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:131:10: Context: 'IOSink.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
  late Encoding encoding;
                ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
  Future flush();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
  void writeAll(Iterable objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:17:8: Context: 'Sink.add' is defined here.
  void add(T data);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:24:8: Context: 'Sink.close' is defined here.
  void close();
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
  InternetAddress get address;
                      ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:996:10: Context: 'Socket.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:936:8: Context: 'Socket.destroy' is defined here.
  void destroy();
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
  Uint8List getRawOption(RawSocketOption option);
            ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
  int get port;
          ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
  InternetAddress get remoteAddress;
                      ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
  int get remotePort;
          ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:946:8: Context: 'Socket.setOption' is defined here.
  bool setOption(SocketOption option, bool enabled);
       ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
  void setRawOption(RawSocketOption option);
       ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
  Future<bool> any(bool test(T element)) {
               ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
  Stream<T> asBroadcastStream({
            ^^^^^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
  Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
  Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
  Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
  Future<bool> contains(Object? needle) {
               ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
  Stream<T> distinct([bool equals(T previous, T next)?]) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
  Future<E> drain<E>([E? futureValue]) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
  Future<T> elementAt(int index) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
  Future<bool> every(bool test(T element)) {
               ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
  Stream<S> expand<S>(Iterable<S> convert(T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
  Future<T> get first {
                ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
  Future<T> firstWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
  Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
  Future<void> forEach(void action(T element)) {
               ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
  Stream<T> handleError(Function onError, {bool test(error)?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
  bool get isBroadcast => false;
           ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
  Future<bool> get isEmpty {
                   ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
  Future<String> join([String separator = ""]) {
                 ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
  Future<T> get last {
                ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
  Future<T> lastWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
  Future<int> get length {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:723:25: Context: 'Stream.listen' is defined here.
  StreamSubscription<T> listen(
                        ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
  Stream<S> map<S>(S convert(T event)) {
            ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
  Future pipe(StreamConsumer<T> streamConsumer) {
         ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
  Future<T> reduce(T combine(T previous, T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
  Future<T> get single {
                ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
  Future<T> singleWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
  Stream<T> skip(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
  Stream<T> skipWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
  Stream<T> take(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
  Stream<T> takeWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
  Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
            ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
  Future<List<T>> toList() {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
  Future<Set<T>> toSet() {
                 ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
  Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
  Stream<T> where(bool test(T event)) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
  Future addStream(Stream<S> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2364:10: Context: 'StreamConsumer.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2403:10: Context: 'StreamSink.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
  void writeAll(Iterable<dynamic> objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:96:7: Error: The non-abstract class 'MockStreamSubscription' is missing implementations for these members:
 - StreamSubscription.asFuture
 - StreamSubscription.cancel
 - StreamSubscription.isPaused
 - StreamSubscription.onData
 - StreamSubscription.onDone
 - StreamSubscription.onError
 - StreamSubscription.pause
 - StreamSubscription.resume
Try to either
 - provide an implementation,
 - inherit an implementation from a superclass or mixin,
 - mark the class as abstract, or
 - provide a 'noSuchMethod' implementation.
class MockStreamSubscription extends Mock
      ^^^^^^^^^^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2270:13: Context: 'StreamSubscription.asFuture' is defined here.
  Future<E> asFuture<E>([E? futureValue]);
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2165:16: Context: 'StreamSubscription.cancel' is defined here.
  Future<void> cancel();
               ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2254:12: Context: 'StreamSubscription.isPaused' is defined here.
  bool get isPaused;
           ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2175:8: Context: 'StreamSubscription.onData' is defined here.
  void onData(void handleData(T data)?);
       ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2201:8: Context: 'StreamSubscription.onDone' is defined here.
  void onDone(void handleDone()?);
       ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2192:8: Context: 'StreamSubscription.onError' is defined here.
  void onError(Function? handleError);
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2233:8: Context: 'StreamSubscription.pause' is defined here.
  void pause([Future<void>? resumeSignal]);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2244:8: Context: 'StreamSubscription.resume' is defined here.
  void resume();
       ^^^^^^
00:01 +2 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Fast Boot: Connects to top peers immediately on start
ActivePeer(127.0.0.1:1001) socket closed
ActivePeer(127.0.0.1:1002) socket closed
ActivePeer(127.0.0.1:1003) socket closed
00:01 +3 -2: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +3 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Fast Boot: Connects to top peers immediately on start
ActivePeer(127.0.0.1:1004) socket closed
packages/redpanda_light_client/test/unit/handshake_test.dart:21:5: Error: Method not found: 'registerFallbackValue'.
    registerFallbackValue(SocketOption.tcpNoDelay);
    ^^^^^^^^^^^^^^^^^^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:22:5: Error: Method not found: 'registerFallbackValue'.
    registerFallbackValue(Uint8List(0));
    ^^^^^^^^^^^^^^^^^^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:29:9: Error: Method not found: 'any'.
        any(),
        ^^^
ActivePeer(127.0.0.1:1005) socket closed
packages/redpanda_light_client/test/unit/handshake_test.dart:30:18: Error: Method not found: 'any'.
        onError: any(named: 'onError'),
                 ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:31:17: Error: Method not found: 'any'.
        onDone: any(named: 'onDone'),
                ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:32:24: Error: Method not found: 'any'.
        cancelOnError: any(named: 'cancelOnError'),
                       ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:27:5: Error: Method not found: 'when'.
    when(
    ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:41:37: Error: Method not found: 'any'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                    ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:41:44: Error: Method not found: 'any'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                           ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:41:5: Error: Method not found: 'when'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
    ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:42:31: Error: Method not found: 'any'.
    when(() => mockSocket.add(any())).thenReturn(null);
                              ^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:42:5: Error: Method not found: 'when'.
    when(() => mockSocket.add(any())).thenReturn(null);
    ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:43:5: Error: Method not found: 'when'.
    when(() => mockSocket.destroy()).thenReturn(null);
    ^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:66:50: Error: Method not found: 'captureAny'.
    final captured = verify(() => mockSocket.add(captureAny())).captured;
                                                 ^^^^^^^^^^
packages/redpanda_light_client/test/unit/handshake_test.dart:66:22: Error: Method not found: 'verify'.
    final captured = verify(() => mockSocket.add(captureAny())).captured;
                     ^^^^^^
00:01 +3 -2: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Max Connections: Does not exceed limit (5)         
RedPandaLightClient: Running connection check. Known peers: 6
ActivePeer(127.0.0.1:1001): Connecting...
ActivePeer(127.0.0.1:1001): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1001): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1002): Connecting...
ActivePeer(127.0.0.1:1002): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1002): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1003): Connecting...
ActivePeer(127.0.0.1:1003): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1003): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1004): Connecting...
ActivePeer(127.0.0.1:1004): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1004): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1005): Connecting...
ActivePeer(127.0.0.1:1005): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1005): Handshake sent (30 bytes)
00:01 +3 -3: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/handshake_test.dart [E]                                                                            
  Failed to load "/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/handshake_test.dart":
  Compilation failed for testPath=/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/handshake_test.dart: Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
  packages/redpanda_light_client/test/unit/handshake_test.dart:10:8: Error: Not found: 'package:mocktail/mocktail.dart'
  import 'package:mocktail/mocktail.dart';
         ^
  packages/redpanda_light_client/test/unit/handshake_test.dart:12:26: Error: Type 'Mock' not found.
  class MockSocket extends Mock implements Socket {}
                           ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:96:38: Error: Type 'Mock' not found.
  class MockStreamSubscription extends Mock
                                       ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:12:7: Error: The non-abstract class 'MockSocket' is missing implementations for these members:
   - EventSink.add
   - EventSink.addError
   - EventSink.close
   - IOSink.add
   - IOSink.addError
   - IOSink.addStream
   - IOSink.close
   - IOSink.done
   - IOSink.encoding
   - IOSink.flush
   - IOSink.write
   - IOSink.writeAll
   - IOSink.writeCharCode
   - IOSink.writeln
   - Sink.add
   - Sink.close
   - Socket.addError
   - Socket.address
   - Socket.close
   - Socket.destroy
   - Socket.done
   - Socket.getRawOption
   - Socket.port
   - Socket.remoteAddress
   - Socket.remotePort
   - Socket.setOption
   - Socket.setRawOption
   - Stream.any
   - Stream.asBroadcastStream
   - Stream.asyncExpand
   - Stream.asyncMap
   - Stream.cast
   - Stream.contains
   - Stream.distinct
   - Stream.drain
   - Stream.elementAt
   - Stream.every
   - Stream.expand
   - Stream.first
   - Stream.firstWhere
   - Stream.fold
   - Stream.forEach
   - Stream.handleError
   - Stream.isBroadcast
   - Stream.isEmpty
   - Stream.join
   - Stream.last
   - Stream.lastWhere
   - Stream.length
   - Stream.listen
   - Stream.map
   - Stream.pipe
   - Stream.reduce
   - Stream.single
   - Stream.singleWhere
   - Stream.skip
   - Stream.skipWhile
   - Stream.take
   - Stream.takeWhile
   - Stream.timeout
   - Stream.toList
   - Stream.toSet
   - Stream.transform
   - Stream.where
   - StreamConsumer.addStream
   - StreamConsumer.close
   - StreamSink.close
   - StreamSink.done
   - StringSink.write
   - StringSink.writeAll
   - StringSink.writeCharCode
   - StringSink.writeln
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  class MockSocket extends Mock implements Socket {}
        ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2285:8: Context: 'EventSink.add' is defined here.
    void add(T event);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2297:8: Context: 'EventSink.close' is defined here.
    void close();
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:59:8: Context: 'IOSink.add' is defined here.
    void add(List<int> data);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
    void addError(error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
    Future addStream(Stream<List<int>> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:131:10: Context: 'IOSink.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
    late Encoding encoding;
                  ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
    Future flush();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
    void writeAll(Iterable objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:17:8: Context: 'Sink.add' is defined here.
    void add(T data);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:24:8: Context: 'Sink.close' is defined here.
    void close();
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
    InternetAddress get address;
                        ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:996:10: Context: 'Socket.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:936:8: Context: 'Socket.destroy' is defined here.
    void destroy();
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
    Uint8List getRawOption(RawSocketOption option);
              ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
    int get port;
            ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
    InternetAddress get remoteAddress;
                        ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
    int get remotePort;
            ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:946:8: Context: 'Socket.setOption' is defined here.
    bool setOption(SocketOption option, bool enabled);
         ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
    void setRawOption(RawSocketOption option);
         ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
    Future<bool> any(bool test(T element)) {
                 ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
    Stream<T> asBroadcastStream({
              ^^^^^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
    Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
    Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
    Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
    Future<bool> contains(Object? needle) {
                 ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
    Stream<T> distinct([bool equals(T previous, T next)?]) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
    Future<E> drain<E>([E? futureValue]) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
    Future<T> elementAt(int index) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
    Future<bool> every(bool test(T element)) {
                 ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
    Stream<S> expand<S>(Iterable<S> convert(T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
    Future<T> get first {
                  ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
    Future<T> firstWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
    Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
    Future<void> forEach(void action(T element)) {
                 ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
    Stream<T> handleError(Function onError, {bool test(error)?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
    bool get isBroadcast => false;
             ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
    Future<bool> get isEmpty {
                     ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
    Future<String> join([String separator = ""]) {
                   ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
    Future<T> get last {
                  ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
    Future<T> lastWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
    Future<int> get length {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:723:25: Context: 'Stream.listen' is defined here.
    StreamSubscription<T> listen(
                          ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
    Stream<S> map<S>(S convert(T event)) {
              ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
    Future pipe(StreamConsumer<T> streamConsumer) {
           ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
    Future<T> reduce(T combine(T previous, T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
    Future<T> get single {
                  ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
    Future<T> singleWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
    Stream<T> skip(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
    Stream<T> skipWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
    Stream<T> take(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
    Stream<T> takeWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
    Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
              ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
    Future<List<T>> toList() {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
    Future<Set<T>> toSet() {
                   ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
    Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
    Stream<T> where(bool test(T event)) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
    Future addStream(Stream<S> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2364:10: Context: 'StreamConsumer.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2403:10: Context: 'StreamSink.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
    void writeAll(Iterable<dynamic> objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:96:7: Error: The non-abstract class 'MockStreamSubscription' is missing implementations for these members:
   - StreamSubscription.asFuture
   - StreamSubscription.cancel
   - StreamSubscription.isPaused
   - StreamSubscription.onData
   - StreamSubscription.onDone
   - StreamSubscription.onError
   - StreamSubscription.pause
   - StreamSubscription.resume
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  class MockStreamSubscription extends Mock
        ^^^^^^^^^^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2270:13: Context: 'StreamSubscription.asFuture' is defined here.
    Future<E> asFuture<E>([E? futureValue]);
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2165:16: Context: 'StreamSubscription.cancel' is defined here.
    Future<void> cancel();
                 ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2254:12: Context: 'StreamSubscription.isPaused' is defined here.
    bool get isPaused;
             ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2175:8: Context: 'StreamSubscription.onData' is defined here.
    void onData(void handleData(T data)?);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2201:8: Context: 'StreamSubscription.onDone' is defined here.
    void onDone(void handleDone()?);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2192:8: Context: 'StreamSubscription.onError' is defined here.
    void onError(Function? handleError);
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2233:8: Context: 'StreamSubscription.pause' is defined here.
    void pause([Future<void>? resumeSignal]);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2244:8: Context: 'StreamSubscription.resume' is defined here.
    void resume();
         ^^^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:21:5: Error: Method not found: 'registerFallbackValue'.
      registerFallbackValue(SocketOption.tcpNoDelay);
      ^^^^^^^^^^^^^^^^^^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:22:5: Error: Method not found: 'registerFallbackValue'.
      registerFallbackValue(Uint8List(0));
      ^^^^^^^^^^^^^^^^^^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:29:9: Error: Method not found: 'any'.
          any(),
          ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:30:18: Error: Method not found: 'any'.
          onError: any(named: 'onError'),
                   ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:31:17: Error: Method not found: 'any'.
          onDone: any(named: 'onDone'),
                  ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:32:24: Error: Method not found: 'any'.
          cancelOnError: any(named: 'cancelOnError'),
                         ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:27:5: Error: Method not found: 'when'.
      when(
      ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:41:37: Error: Method not found: 'any'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                      ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:41:44: Error: Method not found: 'any'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                             ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:41:5: Error: Method not found: 'when'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
      ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:42:31: Error: Method not found: 'any'.
      when(() => mockSocket.add(any())).thenReturn(null);
                                ^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:42:5: Error: Method not found: 'when'.
      when(() => mockSocket.add(any())).thenReturn(null);
      ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:43:5: Error: Method not found: 'when'.
      when(() => mockSocket.destroy()).thenReturn(null);
      ^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:66:50: Error: Method not found: 'captureAny'.
      final captured = verify(() => mockSocket.add(captureAny())).captured;
                                                   ^^^^^^^^^^
  packages/redpanda_light_client/test/unit/handshake_test.dart:66:22: Error: Method not found: 'verify'.
      final captured = verify(() => mockSocket.add(captureAny())).captured;
                       ^^^^^^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/handshake_test.dart -p vm --plain-name 'loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/handshake_test.dart'
00:01 +3 -3: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart [E]                                                                   
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 911:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  
00:01 +4 -3: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +4 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Periodically retries FAILED connections                
RedPandaLightClient: Running connection check. Known peers: 2
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 0
RedPandaLightClient: Running connection check. Known peers: 1
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001): TCP Connected. Sending Handshake...
ActivePeer(localhost:1001): Handshake sent (30 bytes)
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001) connection failed: Connection Refused
ActivePeer(localhost:1002): Connecting...
ActivePeer(localhost:1002): TCP Connected. Sending Handshake...
ActivePeer(localhost:1002): Handshake sent (30 bytes)
00:01 +4 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Max Connections: Does not exceed limit (5)         
RedPandaLightClient: Running connection check. Known peers: 7
ActivePeer(127.0.0.1:1001) socket closed
ActivePeer(127.0.0.1:1002) socket closed
ActivePeer(127.0.0.1:1003) socket closed
00:01 +5 -3: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +5 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Max Connections: Does not exceed limit (5)         
ActivePeer(127.0.0.1:1004) socket closed
ActivePeer(127.0.0.1:1005) socket closed
00:01 +5 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Core Preference: Prefers low latency peers         
RedPandaLightClient: Running connection check. Known peers: 6
ActivePeer(127.0.0.1:1001): Connecting...
ActivePeer(127.0.0.1:1001): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1001): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1002): Connecting...
ActivePeer(127.0.0.1:1002): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1002): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1003): Connecting...
ActivePeer(127.0.0.1:1003): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1003): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1004): Connecting...
ActivePeer(127.0.0.1:1004): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1004): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:1005): Connecting...
ActivePeer(127.0.0.1:1005): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:1005): Handshake sent (30 bytes)
Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
packages/redpanda_light_client/test/unit/peer_list_test.dart:13:8: Error: Not found: 'package:mocktail/mocktail.dart'
import 'package:mocktail/mocktail.dart';
       ^
packages/redpanda_light_client/test/unit/peer_list_test.dart:15:26: Error: Type 'Mock' not found.
class MockSocket extends Mock implements Socket {}
                         ^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:15:7: Error: The non-abstract class 'MockSocket' is missing implementations for these members:
 - EventSink.add
 - EventSink.addError
 - EventSink.close
 - IOSink.add
 - IOSink.addError
 - IOSink.addStream
 - IOSink.close
 - IOSink.done
 - IOSink.encoding
 - IOSink.flush
 - IOSink.write
 - IOSink.writeAll
 - IOSink.writeCharCode
 - IOSink.writeln
 - Sink.add
 - Sink.close
 - Socket.addError
 - Socket.address
 - Socket.close
 - Socket.destroy
 - Socket.done
 - Socket.getRawOption
 - Socket.port
 - Socket.remoteAddress
 - Socket.remotePort
 - Socket.setOption
 - Socket.setRawOption
 - Stream.any
 - Stream.asBroadcastStream
 - Stream.asyncExpand
 - Stream.asyncMap
 - Stream.cast
 - Stream.contains
 - Stream.distinct
 - Stream.drain
 - Stream.elementAt
 - Stream.every
 - Stream.expand
 - Stream.first
 - Stream.firstWhere
 - Stream.fold
 - Stream.forEach
 - Stream.handleError
 - Stream.isBroadcast
 - Stream.isEmpty
 - Stream.join
 - Stream.last
 - Stream.lastWhere
 - Stream.length
 - Stream.listen
 - Stream.map
 - Stream.pipe
 - Stream.reduce
 - Stream.single
 - Stream.singleWhere
 - Stream.skip
 - Stream.skipWhile
 - Stream.take
 - Stream.takeWhile
 - Stream.timeout
 - Stream.toList
 - Stream.toSet
 - Stream.transform
 - Stream.where
 - StreamConsumer.addStream
 - StreamConsumer.close
 - StreamSink.close
 - StreamSink.done
 - StringSink.write
 - StringSink.writeAll
 - StringSink.writeCharCode
 - StringSink.writeln
Try to either
 - provide an implementation,
 - inherit an implementation from a superclass or mixin,
 - mark the class as abstract, or
 - provide a 'noSuchMethod' implementation.
class MockSocket extends Mock implements Socket {}
      ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2285:8: Context: 'EventSink.add' is defined here.
  void add(T event);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2297:8: Context: 'EventSink.close' is defined here.
  void close();
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:59:8: Context: 'IOSink.add' is defined here.
  void add(List<int> data);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
  void addError(error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
  Future addStream(Stream<List<int>> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:131:10: Context: 'IOSink.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
  late Encoding encoding;
                ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
  Future flush();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
  void writeAll(Iterable objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:17:8: Context: 'Sink.add' is defined here.
  void add(T data);
       ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:24:8: Context: 'Sink.close' is defined here.
  void close();
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
  void addError(Object error, [StackTrace? stackTrace]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
  InternetAddress get address;
                      ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:996:10: Context: 'Socket.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:936:8: Context: 'Socket.destroy' is defined here.
  void destroy();
       ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
  Uint8List getRawOption(RawSocketOption option);
            ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
  int get port;
          ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
  InternetAddress get remoteAddress;
                      ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
  int get remotePort;
          ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:946:8: Context: 'Socket.setOption' is defined here.
  bool setOption(SocketOption option, bool enabled);
       ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
  void setRawOption(RawSocketOption option);
       ^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
  Future<bool> any(bool test(T element)) {
               ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
  Stream<T> asBroadcastStream({
            ^^^^^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
  Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
  Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
  Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
  Future<bool> contains(Object? needle) {
               ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
  Stream<T> distinct([bool equals(T previous, T next)?]) {
            ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
  Future<E> drain<E>([E? futureValue]) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
  Future<T> elementAt(int index) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
  Future<bool> every(bool test(T element)) {
               ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
  Stream<S> expand<S>(Iterable<S> convert(T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
  Future<T> get first {
                ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
  Future<T> firstWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
  Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
  Future<void> forEach(void action(T element)) {
               ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
  Stream<T> handleError(Function onError, {bool test(error)?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
  bool get isBroadcast => false;
           ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
  Future<bool> get isEmpty {
                   ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
  Future<String> join([String separator = ""]) {
                 ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
  Future<T> get last {
                ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
  Future<T> lastWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
  Future<int> get length {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:723:25: Context: 'Stream.listen' is defined here.
  StreamSubscription<T> listen(
                        ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
  Stream<S> map<S>(S convert(T event)) {
            ^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
  Future pipe(StreamConsumer<T> streamConsumer) {
         ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
  Future<T> reduce(T combine(T previous, T element)) {
            ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
  Future<T> get single {
                ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
  Future<T> singleWhere(bool test(T element), {T orElse()?}) {
            ^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
  Stream<T> skip(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
  Stream<T> skipWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
  Stream<T> take(int count) {
            ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
  Stream<T> takeWhile(bool test(T element)) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
  Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
            ^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
  Future<List<T>> toList() {
                  ^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
  Future<Set<T>> toSet() {
                 ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
  Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
            ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
  Stream<T> where(bool test(T event)) {
            ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
  Future addStream(Stream<S> stream);
         ^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2364:10: Context: 'StreamConsumer.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2403:10: Context: 'StreamSink.close' is defined here.
  Future close();
         ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
  Future get done;
             ^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
  void write(Object? object);
       ^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
  void writeAll(Iterable<dynamic> objects, [String separator = ""]);
       ^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
  void writeCharCode(int charCode);
       ^^^^^^^^^^^^^
org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
  void writeln([Object? object = ""]);
       ^^^^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:25:5: Error: Method not found: 'registerFallbackValue'.
    registerFallbackValue(SocketOption.tcpNoDelay);
    ^^^^^^^^^^^^^^^^^^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:26:5: Error: Method not found: 'registerFallbackValue'.
    registerFallbackValue(Uint8List(0)); // Just in case
    ^^^^^^^^^^^^^^^^^^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:33:9: Error: Method not found: 'any'.
        any(),
        ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:34:18: Error: Method not found: 'any'.
        onError: any(named: 'onError'),
                 ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:35:17: Error: Method not found: 'any'.
        onDone: any(named: 'onDone'),
                ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:36:24: Error: Method not found: 'any'.
        cancelOnError: any(named: 'cancelOnError'),
                       ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:31:5: Error: Method not found: 'when'.
    when(
    ^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:44:37: Error: Method not found: 'any'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                    ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:44:44: Error: Method not found: 'any'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                           ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:44:5: Error: Method not found: 'when'.
    when(() => mockSocket.setOption(any(), any())).thenReturn(true);
    ^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:45:31: Error: Method not found: 'any'.
    when(() => mockSocket.add(any())).thenReturn(null);
                              ^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:45:5: Error: Method not found: 'when'.
    when(() => mockSocket.add(any())).thenReturn(null);
    ^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:46:5: Error: Method not found: 'when'.
    when(() => mockSocket.destroy()).thenReturn(null);
    ^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:144:50: Error: Method not found: 'captureAny'.
    final captured = verify(() => mockSocket.add(captureAny())).captured;
                                                 ^^^^^^^^^^
packages/redpanda_light_client/test/unit/peer_list_test.dart:144:22: Error: Method not found: 'verify'.
    final captured = verify(() => mockSocket.add(captureAny())).captured;
                     ^^^^^^
ActivePeer(127.0.0.1:1001) socket closed
ActivePeer(127.0.0.1:1002) socket closed
ActivePeer(127.0.0.1:1003) socket closed
00:01 +6 -3: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:01 +6 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Core Preference: Prefers low latency peers         
ActivePeer(127.0.0.1:1004) socket closed
ActivePeer(127.0.0.1:1005) socket closed
00:01 +6 -3: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Bad Internet: Stops trying if all connections fail 
RedPandaLightClient: Running connection check. Known peers: 6
ActivePeer(127.0.0.1:1001): Connecting...
ActivePeer(127.0.0.1:1001) connection failed: SocketException: Connection refused
ActivePeer(127.0.0.1:1002): Connecting...
ActivePeer(127.0.0.1:1002) connection failed: SocketException: Connection refused
ActivePeer(127.0.0.1:1003): Connecting...
ActivePeer(127.0.0.1:1003) connection failed: SocketException: Connection refused
ActivePeer(127.0.0.1:1004): Connecting...
ActivePeer(127.0.0.1:1004) connection failed: SocketException: Connection refused
ActivePeer(127.0.0.1:1005): Connecting...
ActivePeer(127.0.0.1:1005) connection failed: SocketException: Connection refused
00:01 +6 -4: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_list_test.dart [E]                                                                            
  Failed to load "/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_list_test.dart":
  Compilation failed for testPath=/Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_list_test.dart: Error: Couldn't resolve the package 'mocktail' in 'package:mocktail/mocktail.dart'.
  packages/redpanda_light_client/test/unit/peer_list_test.dart:13:8: Error: Not found: 'package:mocktail/mocktail.dart'
  import 'package:mocktail/mocktail.dart';
         ^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:15:26: Error: Type 'Mock' not found.
  class MockSocket extends Mock implements Socket {}
                           ^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:15:7: Error: The non-abstract class 'MockSocket' is missing implementations for these members:
   - EventSink.add
   - EventSink.addError
   - EventSink.close
   - IOSink.add
   - IOSink.addError
   - IOSink.addStream
   - IOSink.close
   - IOSink.done
   - IOSink.encoding
   - IOSink.flush
   - IOSink.write
   - IOSink.writeAll
   - IOSink.writeCharCode
   - IOSink.writeln
   - Sink.add
   - Sink.close
   - Socket.addError
   - Socket.address
   - Socket.close
   - Socket.destroy
   - Socket.done
   - Socket.getRawOption
   - Socket.port
   - Socket.remoteAddress
   - Socket.remotePort
   - Socket.setOption
   - Socket.setRawOption
   - Stream.any
   - Stream.asBroadcastStream
   - Stream.asyncExpand
   - Stream.asyncMap
   - Stream.cast
   - Stream.contains
   - Stream.distinct
   - Stream.drain
   - Stream.elementAt
   - Stream.every
   - Stream.expand
   - Stream.first
   - Stream.firstWhere
   - Stream.fold
   - Stream.forEach
   - Stream.handleError
   - Stream.isBroadcast
   - Stream.isEmpty
   - Stream.join
   - Stream.last
   - Stream.lastWhere
   - Stream.length
   - Stream.listen
   - Stream.map
   - Stream.pipe
   - Stream.reduce
   - Stream.single
   - Stream.singleWhere
   - Stream.skip
   - Stream.skipWhile
   - Stream.take
   - Stream.takeWhile
   - Stream.timeout
   - Stream.toList
   - Stream.toSet
   - Stream.transform
   - Stream.where
   - StreamConsumer.addStream
   - StreamConsumer.close
   - StreamSink.close
   - StreamSink.done
   - StringSink.write
   - StringSink.writeAll
   - StringSink.writeCharCode
   - StringSink.writeln
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  class MockSocket extends Mock implements Socket {}
        ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2285:8: Context: 'EventSink.add' is defined here.
    void add(T event);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2290:8: Context: 'EventSink.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2297:8: Context: 'EventSink.close' is defined here.
    void close();
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:59:8: Context: 'IOSink.add' is defined here.
    void add(List<int> data);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:99:8: Context: 'IOSink.addError' is defined here.
    void addError(error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:115:10: Context: 'IOSink.addStream' is defined here.
    Future addStream(Stream<List<int>> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:131:10: Context: 'IOSink.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:137:14: Context: 'IOSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:39:17: Context: 'IOSink.encoding' is defined here.
    late Encoding encoding;
                  ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:124:10: Context: 'IOSink.flush' is defined here.
    Future flush();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:66:8: Context: 'IOSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:75:8: Context: 'IOSink.writeAll' is defined here.
    void writeAll(Iterable objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:90:8: Context: 'IOSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/io_sink.dart:82:8: Context: 'IOSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:17:8: Context: 'Sink.add' is defined here.
    void add(T data);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/sink.dart:24:8: Context: 'Sink.close' is defined here.
    void close();
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:972:8: Context: 'Socket.addError' is defined here.
    void addError(Object error, [StackTrace? stackTrace]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:989:23: Context: 'Socket.address' is defined here.
    InternetAddress get address;
                        ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:996:10: Context: 'Socket.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:936:8: Context: 'Socket.destroy' is defined here.
    void destroy();
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:998:14: Context: 'Socket.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:956:13: Context: 'Socket.getRawOption' is defined here.
    Uint8List getRawOption(RawSocketOption option);
              ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:978:11: Context: 'Socket.port' is defined here.
    int get port;
            ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:994:23: Context: 'Socket.remoteAddress' is defined here.
    InternetAddress get remoteAddress;
                        ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:984:11: Context: 'Socket.remotePort' is defined here.
    int get remotePort;
            ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:946:8: Context: 'Socket.setOption' is defined here.
    bool setOption(SocketOption option, bool enabled);
         ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/io/socket.dart:964:8: Context: 'Socket.setRawOption' is defined here.
    void setRawOption(RawSocketOption option);
         ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1322:16: Context: 'Stream.any' is defined here.
    Future<bool> any(bool test(T element)) {
                 ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:681:13: Context: 'Stream.asBroadcastStream' is defined here.
    Stream<T> asBroadcastStream({
              ^^^^^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:870:13: Context: 'Stream.asyncExpand' is defined here.
    Stream<E> asyncExpand<E>(Stream<E>? convert(T event)) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:808:13: Context: 'Stream.asyncMap' is defined here.
    Stream<E> asyncMap<E>(FutureOr<E> convert(T event)) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1401:13: Context: 'Stream.cast' is defined here.
    Stream<R> cast<R>() => Stream.castFrom<T, R>(this);
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1211:16: Context: 'Stream.contains' is defined here.
    Future<bool> contains(Object? needle) {
                 ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1625:13: Context: 'Stream.distinct' is defined here.
    Stream<T> distinct([bool equals(T previous, T next)?]) {
              ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1479:13: Context: 'Stream.drain' is defined here.
    Future<E> drain<E>([E? futureValue]) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1951:13: Context: 'Stream.elementAt' is defined here.
    Future<T> elementAt(int index) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1280:16: Context: 'Stream.every' is defined here.
    Future<bool> every(bool test(T element)) {
                 ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:991:13: Context: 'Stream.expand' is defined here.
    Stream<S> expand<S>(Iterable<S> convert(T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1645:17: Context: 'Stream.first' is defined here.
    Future<T> get first {
                  ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1775:13: Context: 'Stream.firstWhere' is defined here.
    Future<T> firstWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1120:13: Context: 'Stream.fold' is defined here.
    Future<S> fold<S>(S initialValue, S combine(S previous, T element)) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1239:16: Context: 'Stream.forEach' is defined here.
    Future<void> forEach(void action(T element)) {
                 ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:955:13: Context: 'Stream.handleError' is defined here.
    Stream<T> handleError(Function onError, {bool test(error)?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:610:12: Context: 'Stream.isBroadcast' is defined here.
    bool get isBroadcast => false;
             ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1381:20: Context: 'Stream.isEmpty' is defined here.
    Future<bool> get isEmpty {
                     ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1158:18: Context: 'Stream.join' is defined here.
    Future<String> join([String separator = ""]) {
                   ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1672:17: Context: 'Stream.last' is defined here.
    Future<T> get last {
                  ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1828:13: Context: 'Stream.lastWhere' is defined here.
    Future<T> lastWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1353:19: Context: 'Stream.length' is defined here.
    Future<int> get length {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:723:25: Context: 'Stream.listen' is defined here.
    StreamSubscription<T> listen(
                          ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:795:13: Context: 'Stream.map' is defined here.
    Stream<S> map<S>(S convert(T event)) {
              ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1009:10: Context: 'Stream.pipe' is defined here.
    Future pipe(StreamConsumer<T> streamConsumer) {
           ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1066:13: Context: 'Stream.reduce' is defined here.
    Future<T> reduce(T combine(T previous, T element)) {
              ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1705:17: Context: 'Stream.single' is defined here.
    Future<T> get single {
                  ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1895:13: Context: 'Stream.singleWhere' is defined here.
    Future<T> singleWhere(bool test(T element), {T orElse()?}) {
              ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1568:13: Context: 'Stream.skip' is defined here.
    Stream<T> skip(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1596:13: Context: 'Stream.skipWhile' is defined here.
    Stream<T> skipWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1513:13: Context: 'Stream.take' is defined here.
    Stream<T> take(int count) {
              ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1544:13: Context: 'Stream.takeWhile' is defined here.
    Stream<T> takeWhile(bool test(T element)) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2034:13: Context: 'Stream.timeout' is defined here.
    Stream<T> timeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) {
              ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1412:19: Context: 'Stream.toList' is defined here.
    Future<List<T>> toList() {
                    ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1443:18: Context: 'Stream.toSet' is defined here.
    Future<Set<T>> toSet() {
                   ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:1038:13: Context: 'Stream.transform' is defined here.
    Stream<S> transform<S>(StreamTransformer<T, S> streamTransformer) {
              ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:751:13: Context: 'Stream.where' is defined here.
    Stream<T> where(bool test(T event)) {
              ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2354:10: Context: 'StreamConsumer.addStream' is defined here.
    Future addStream(Stream<S> stream);
           ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2364:10: Context: 'StreamConsumer.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2403:10: Context: 'StreamSink.close' is defined here.
    Future close();
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/async/stream.dart:2416:14: Context: 'StreamSink.done' is defined here.
    Future get done;
               ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:17:8: Context: 'StringSink.write' is defined here.
    void write(Object? object);
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:34:8: Context: 'StringSink.writeAll' is defined here.
    void writeAll(Iterable<dynamic> objects, [String separator = ""]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:48:8: Context: 'StringSink.writeCharCode' is defined here.
    void writeCharCode(int charCode);
         ^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/string_sink.dart:43:8: Context: 'StringSink.writeln' is defined here.
    void writeln([Object? object = ""]);
         ^^^^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:25:5: Error: Method not found: 'registerFallbackValue'.
      registerFallbackValue(SocketOption.tcpNoDelay);
      ^^^^^^^^^^^^^^^^^^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:26:5: Error: Method not found: 'registerFallbackValue'.
      registerFallbackValue(Uint8List(0)); // Just in case
      ^^^^^^^^^^^^^^^^^^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:33:9: Error: Method not found: 'any'.
          any(),
          ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:34:18: Error: Method not found: 'any'.
          onError: any(named: 'onError'),
                   ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:35:17: Error: Method not found: 'any'.
          onDone: any(named: 'onDone'),
                  ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:36:24: Error: Method not found: 'any'.
          cancelOnError: any(named: 'cancelOnError'),
                         ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:31:5: Error: Method not found: 'when'.
      when(
      ^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:44:37: Error: Method not found: 'any'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                      ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:44:44: Error: Method not found: 'any'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
                                             ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:44:5: Error: Method not found: 'when'.
      when(() => mockSocket.setOption(any(), any())).thenReturn(true);
      ^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:45:31: Error: Method not found: 'any'.
      when(() => mockSocket.add(any())).thenReturn(null);
                                ^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:45:5: Error: Method not found: 'when'.
      when(() => mockSocket.add(any())).thenReturn(null);
      ^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:46:5: Error: Method not found: 'when'.
      when(() => mockSocket.destroy()).thenReturn(null);
      ^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:144:50: Error: Method not found: 'captureAny'.
      final captured = verify(() => mockSocket.add(captureAny())).captured;
                                                   ^^^^^^^^^^
  packages/redpanda_light_client/test/unit/peer_list_test.dart:144:22: Error: Method not found: 'verify'.
      final captured = verify(() => mockSocket.add(captureAny())).captured;
                       ^^^^^^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_list_test.dart -p vm --plain-name 'loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_list_test.dart'
00:01 +6 -4: loading /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart [E]                                                                   
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 911:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  
00:02 +6 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:02 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/launcher_test.dart: E2E Node Launcher starts and stops the java process                                     
Searching for project root starting from: /Users/rbb/Documents/AI Test/redpanda
Found project root at: /Users/rbb/Documents/AI Test/redpanda
Looking for JAR at: /Users/rbb/Documents/AI Test/redpanda/references/redPandaj/target/redpanda.jar
Starting Node on port 50001...
Waiting for port 50001 to open...
00:02 +6 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:02 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
Searching for project root starting from: /Users/rbb/Documents/AI Test/redpanda
Found project root at: /Users/rbb/Documents/AI Test/redpanda
Looking for JAR at: /Users/rbb/Documents/AI Test/redpanda/references/redPandaj/target/redpanda.jar
Starting Node on port 50003...
00:02 +6 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:02 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
Waiting for port 50003 to open...
00:02 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
Searching for project root starting from: /Users/rbb/Documents/AI Test/redpanda
Found project root at: /Users/rbb/Documents/AI Test/redpanda
Looking for JAR at: /Users/rbb/Documents/AI Test/redpanda/references/redPandaj/target/redpanda.jar
Starting Node on port 50002...
Waiting for port 50002 to open...
Shell: 2025-12-30T20:33:38.707757Z main INFO Starting configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z]...
Shell: 2025-12-30T20:33:38.708301Z main INFO Configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z] started.
Shell: 2025-12-30T20:33:38.708996Z main INFO Stopping configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21...
Shell: 2025-12-30T20:33:38.709161Z main INFO Configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21 stopped.
Shell:               _ _____                _       
Shell:              | |  __ \              | |      
Shell:  _ __ ___  __| | |__) |_ _ _ __   __| | __ _ 
Shell: | '__/ _ \/ _` |  ___/ _` | '_ \ / _` |/ _` |
Shell: | | |  __/ (_| | |  | (_| | | | | (_| | (_| |
Shell: |_|  \___|\__,_|_|   \__,_|_| |_|\__,_|\__,_|               - p2p chat, https://github.com/redPanda-project/redpandaj
Shell:                                              
Shell: 
Shell: Starting redpanda 0.1.6-SNAPSHOT
Shell: 2025-12-30 21:33:38,712 [main] INFO  im.redpanda.App - redPanda started.
Shell: 2025-12-30 21:33:38,713 [main] INFO  im.redpanda.App - Activate Sentry: false
Shell: 2025-12-30 21:33:38,713 [main] INFO  im.redpanda.App - found git revision: a655c19 Sentry: false
Shell: 2025-12-30T20:33:38.711120Z main INFO Starting configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z]...
Shell: 2025-12-30T20:33:38.711631Z main INFO Configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z] started.
Shell: 2025-12-30T20:33:38.712948Z main INFO Stopping configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21...
Shell: 2025-12-30T20:33:38.713169Z main INFO Configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21 stopped.
Shell:               _ _____                _       
Shell:              | |  __ \              | |      
Shell:  _ __ ___  __| | |__) |_ _ _ __   __| | __ _ 
Shell: | '__/ _ \/ _` |  ___/ _` | '_ \ / _` |/ _` |
Shell: | | |  __/ (_| | |  | (_| | | | | (_| | (_| |
Shell: |_|  \___|\__,_|_|   \__,_|_| |_|\__,_|\__,_|               - p2p chat, https://github.com/redPanda-project/redpandaj
Shell:                                              
Shell: 
Shell: Starting redpanda 0.1.6-SNAPSHOT
Shell: 2025-12-30 21:33:38,715 [main] INFO  im.redpanda.App - redPanda started.
Shell: 2025-12-30 21:33:38,716 [main] INFO  im.redpanda.App - Activate Sentry: false
Shell: 2025-12-30 21:33:38,717 [main] INFO  im.redpanda.App - found git revision: a655c19 Sentry: false
Shell: 2025-12-30 21:33:38,722 [main] INFO  im.redpanda.core.ConnectionHandler - bin to specific port 50001 ...
Shell: 2025-12-30 21:33:38,723 [main] INFO  im.redpanda.core.ConnectionHandler - bound successfully to port: 50001
Shell: 2025-12-30T20:33:38.722957Z main INFO Starting configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z]...
Shell: 2025-12-30T20:33:38.723642Z main INFO Configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z] started.
Shell: 2025-12-30 21:33:38,725 [main] INFO  im.redpanda.core.ConnectionHandler - bin to specific port 50003 ...
Shell: 2025-12-30T20:33:38.724376Z main INFO Stopping configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21...
Shell: 2025-12-30T20:33:38.724528Z main INFO Configuration org.apache.logging.log4j.core.config.DefaultConfiguration@d44fc21 stopped.
Shell:               _ _____                _       
Shell:              | |  __ \              | |      
Shell:  _ __ ___  __| | |__) |_ _ _ __   __| | __ _ 
Shell: | '__/ _ \/ _` |  ___/ _` | '_ \ / _` |/ _` |
Shell: | | |  __/ (_| | |  | (_| | | | | (_| | (_| |
Shell: |_|  \___|\__,_|_|   \__,_|_| |_|\__,_|\__,_|               - p2p chat, https://github.com/redPanda-project/redpandaj
Shell:                                              
Shell: 
Shell: Starting redpanda 0.1.6-SNAPSHOT
Shell: 2025-12-30 21:33:38,726 [main] INFO  im.redpanda.core.ConnectionHandler - bound successfully to port: 50003
Shell: 2025-12-30 21:33:38,727 [main] INFO  im.redpanda.App - redPanda started.
Shell: 2025-12-30 21:33:38,728 [main] INFO  im.redpanda.App - Activate Sentry: false
Shell: 2025-12-30 21:33:38,728 [main] INFO  im.redpanda.App - found git revision: a655c19 Sentry: false
Shell: 21:33:38.732 [main] INFO im.redpanda.core.LocalSettings -- error loading local settings
Shell: java.io.FileNotFoundException: data/localSettings50001.dat (No such file or directory)
Shell: 	at java.base/java.io.FileInputStream.open0(Native Method)
Shell: 	at java.base/java.io.FileInputStream.open(FileInputStream.java:185)
Shell: 	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:139)
Shell: 	at im.redpanda.core.LocalSettings.load(LocalSettings.java:81)
Shell: 	at im.redpanda.App.startServer(App.java:95)
Shell: 	at im.redpanda.App.main(App.java:85)
Shell: 21:33:38.732 [main] INFO im.redpanda.core.LocalSettings -- could not load localSettings.dat, generating new LocalSettings
Shell: 2025-12-30 21:33:38,736 [main] INFO  im.redpanda.core.ConnectionHandler - bin to specific port 50002 ...
Shell: 21:33:38.736 [main] INFO im.redpanda.core.LocalSettings -- error loading local settings
Shell: java.io.FileNotFoundException: data/localSettings50003.dat (No such file or directory)
Shell: 	at java.base/java.io.FileInputStream.open0(Native Method)
Shell: 	at java.base/java.io.FileInputStream.open(FileInputStream.java:185)
Shell: 	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:139)
Shell: 	at im.redpanda.core.LocalSettings.load(LocalSettings.java:81)
Shell: 	at im.redpanda.App.startServer(App.java:95)
Shell: 	at im.redpanda.App.main(App.java:85)
Shell: 21:33:38.736 [main] INFO im.redpanda.core.LocalSettings -- could not load localSettings.dat, generating new LocalSettings
Shell: 2025-12-30 21:33:38,737 [main] INFO  im.redpanda.core.ConnectionHandler - bound successfully to port: 50002
Shell: 21:33:38.746 [main] INFO im.redpanda.core.LocalSettings -- error loading local settings
Shell: java.io.FileNotFoundException: data/localSettings50002.dat (No such file or directory)
Shell: 	at java.base/java.io.FileInputStream.open0(Native Method)
Shell: 	at java.base/java.io.FileInputStream.open(FileInputStream.java:185)
Shell: 	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:139)
Shell: 	at im.redpanda.core.LocalSettings.load(LocalSettings.java:81)
Shell: 	at im.redpanda.App.startServer(App.java:95)
Shell: 	at im.redpanda.App.main(App.java:85)
Shell: 21:33:38.747 [main] INFO im.redpanda.core.LocalSettings -- could not load localSettings.dat, generating new LocalSettings
00:03 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/launcher_test.dart: E2E Node Launcher starts and stops the java process                                     
Port open. Waiting 2 seconds for node to settle...
00:03 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
Port open. Waiting 2 seconds for node to settle...
Shell: 2025-12-30 21:33:38,973 [main] INFO  im.redpanda.App - started node with KademliaId: 2kt1K1pSdi port: 50003
00:03 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
Port open. Waiting 2 seconds for node to settle...
Shell: 2025-12-30 21:33:39,015 [main] INFO  im.redpanda.App - started node with KademliaId: 29Z44Hj56t port: 50001
Shell: No jar to update found, disable auto update
Shell: starting HTTP server...
Shell: refresh the KadContent
Shell: Log: remaining entries in GMStoreManager after cleanup: 0
Shell: 21:33:39.031 [Jobs-0] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.0
Shell: 21:33:39.031 [Jobs-0] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.005952380952380952 after update
Shell: Generating new ByteBuffer for pool. Free memory (MB): 58.271400451660156 Idle: 0 Active: 1 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 1024 size: 0
Shell: 
Shell: 
Shell: 
Shell: peer disconnected...
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 2aRKCQ7UGQ 59558
Shell: updating KadId, old null new: 2aRKCQ7UGQ
Shell: written bytes to REQUEST_PUBLIC_KEY: 1
Shell: peer status for handshake: 1
Shell: 2025-12-30 21:33:39,062 [main] INFO  im.redpanda.App - started node with KademliaId: 4PiH2x76Bw port: 50002
Shell: No jar to update found, disable auto update
Shell: starting HTTP server...
Shell: refresh the KadContent
Shell: Log: remaining entries in GMStoreManager after cleanup: 0
Shell: 21:33:39.084 [Jobs-5] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.0
Shell: 21:33:39.084 [Jobs-5] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.005952380952380952 after update
Shell: Generating new ByteBuffer for pool. Free memory (MB): 61.47728729248047 Idle: 0 Active: 1 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 1024 size: 0
Shell: 
Shell: 
Shell: 
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 2aRKCQ7UGQ 59558
Shell: updating KadId, old null new: 2aRKCQ7UGQ
Shell: written bytes to REQUEST_PUBLIC_KEY: 1
Shell: peer status for handshake: 1
Shell: peer disconnected...
Shell: written bytes to SEND_PUBLIC_KEY: 66
Shell: Log: DEBUG: Processing ACTIVATE_ENCRYPTION. Remaining bytes: 8
Shell: Log: DEBUG: Parsed ACTIVATE_ENCRYPTION. Pending finalization.
Shell: No jar to update found, disable auto update
Shell: starting HTTP server...
Shell: refresh the KadContent
Shell: Log: remaining entries in GMStoreManager after cleanup: 0
Shell: 21:33:39.123 [Jobs-0] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.0
Shell: 21:33:39.123 [Jobs-0] INFO im.redpanda.core.SystemUpTimeData -- current uptime: 0.005952380952380952 after update
Shell: Generating new ByteBuffer for pool. Free memory (MB): 61.48767852783203 Idle: 0 Active: 1 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 1024 size: 0
Shell: 
Shell: 
Shell: 
Shell: peer disconnected...
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 2aRKCQ7UGQ 59558
Shell: updating KadId, old null new: 2aRKCQ7UGQ
Shell: written bytes to REQUEST_PUBLIC_KEY: 1
Shell: peer status for handshake: 1
00:04 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart: Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)
RedPandaLightClient: Running connection check. Known peers: 1
00:04 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to all seeds initially                        
RedPandaLightClient: Running connection check. Known peers: 2
00:04 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Periodically retries FAILED connections                
RedPandaLightClient: Running connection check. Known peers: 1
RedPandaLightClient: Removing disconnected peer localhost:1001
RedPandaLightClient: No peers to connect to. Bad Internet?
00:04 +6 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart: Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)
RedPandaLightClient: Running connection check. Known peers: 2
00:04 +7 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:04 +7 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to new peers added to list                    
RedPandaLightClient: Running connection check. Known peers: 2
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 2
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001): TCP Connected. Sending Handshake...
ActivePeer(localhost:1001): Handshake sent (30 bytes)
ActivePeer(localhost:1001): Connecting...
ActivePeer(localhost:1001): TCP Connected. Sending Handshake...
ActivePeer(localhost:1001): Handshake sent (30 bytes)
ActivePeer(localhost:1002): Connecting...
ActivePeer(localhost:1002): TCP Connected. Sending Handshake...
ActivePeer(localhost:1002): Handshake sent (30 bytes)
ActivePeer(localhost:1002): Connecting...
ActivePeer(localhost:1002): TCP Connected. Sending Handshake...
ActivePeer(localhost:1002): Handshake sent (30 bytes)
00:04 +8 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        00:04 +8 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/connection_logic_test.dart: Connection Logic Unit Tests Backoff: Does not retry failed peer immediately    
RedPandaLightClient: Running connection check. Known peers: 1
ActivePeer(127.0.0.1:9999): Connecting...
ActivePeer(127.0.0.1:9999) connection failed: SocketException: Connection refused
00:04 +8 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to new peers added to list                    
RedPandaLightClient: Running connection check. Known peers: 3
ActivePeer(localhost:1003): Connecting...
ActivePeer(localhost:1003): TCP Connected. Sending Handshake...
ActivePeer(localhost:1003): Handshake sent (30 bytes)
00:05 +8 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/launcher_test.dart: E2E Node Launcher starts and stops the java process                                     
Node 50001 successfully started and listening.
00:05 +9 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                        Shell: peer disconnected...
Shell: 2025-12-30 21:33:41,054 [Thread-1 - shutdownhook] INFO  im.redpanda.App - started shutdownhook...
Shell: 2025-12-30T20:33:41.055819Z pool-1-thread-1 INFO Stopping configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z]...
Shell: 2025-12-30T20:33:41.056805Z pool-1-thread-1 INFO Configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z] stopped.
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
Node 50003 successfully started and listening.
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
Node 50002 successfully started and listening.
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 0
RedPandaLightClient: Running connection check. Known peers: 1
ActivePeer(127.0.0.1:50003): Connecting...
ActivePeer(127.0.0.1:50003): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:50003): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:50003): Handshake Verified.
ActivePeer(127.0.0.1:50003): Requesting Peer Public Key...
ActivePeer(127.0.0.1:50003): Received requestPublicKey
ActivePeer(127.0.0.1:50003): Sending Public Key...
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 t1fU3H53CM 0
Shell: written bytes to REQUEST_PUBLIC_KEY: 1
Shell: peer status for handshake: 1
Shell: written bytes to SEND_PUBLIC_KEY: 66
ActivePeer(127.0.0.1:50003): Received sendPublicKey
ActivePeer(127.0.0.1:50003): Peer Public Key Parsed.
ActivePeer(127.0.0.1:50003): Initiating Encryption Handshake...
ActivePeer(127.0.0.1:50003): Received activateEncryption
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
RedPandaLightClient: Starting connection routine...
RedPandaLightClient: Running connection check. Known peers: 0
RedPandaLightClient: Running connection check. Known peers: 1
ActivePeer(127.0.0.1:50002): Connecting...
ActivePeer(127.0.0.1:50002): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:50002): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:50002): Handshake Verified.
ActivePeer(127.0.0.1:50002): Requesting Peer Public Key...
ActivePeer(127.0.0.1:50002): Received requestPublicKey
ActivePeer(127.0.0.1:50002): Sending Public Key...
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 t1fU3H53CM 0
Shell: written bytes to REQUEST_PUBLIC_KEY: 1
Shell: peer status for handshake: 1
Shell: written bytes to SEND_PUBLIC_KEY: 66
ActivePeer(127.0.0.1:50002): Received sendPublicKey
ActivePeer(127.0.0.1:50002): Peer Public Key Parsed.
ActivePeer(127.0.0.1:50002): Initiating Encryption Handshake...
ActivePeer(127.0.0.1:50002): Received activateEncryption
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
ActivePeer(127.0.0.1:50003): Sent activateEncryption request.
ActivePeer(127.0.0.1:50003): Finalizing Encryption...
ActivePeer(127.0.0.1:50003): Encryption Active!
ActivePeer(127.0.0.1:50003): Sending Initial ping (Encrypted)...
ActivePeer(127.0.0.1:50003): Requesting Peer List (Encrypted)...
Shell: Log: DEBUG: Processing ACTIVATE_ENCRYPTION. Remaining bytes: 8
Shell: Log: DEBUG: Parsed ACTIVATE_ENCRYPTION. Pending finalization.
Shell: Log: DEBUG: Conditions met. Generating Shared Secret and Activating Encryption.
Shell: Log: DEBUG: Encryption Activated.
Shell: Generating new ByteBuffer for pool. Free memory (MB): 50.271484375 Idle: 1 Active: 1 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 16 size: 0
Shell: key: 1024 size: 1
Shell: 
Shell: 
Shell: 
Shell: Log: DEBUG: Written bytes for PING: 1
Shell: received first encrypted command...
Shell: received first ping...
ActivePeer(127.0.0.1:50003): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:50003): Sending pong...
Shell: 2025-12-30 21:33:41,244 [IncomingHandler] INFO  im.redpanda.core.ConnectionHandler - Connected successfully to 127.0.0.1:0 (KadId: t1fU3H53CM)
Shell: Generating new ByteBuffer for pool. Free memory (MB): 50.271484375 Idle: 1 Active: 2 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 16 size: 1
Shell: key: 1024 size: 1
Shell: 
Shell: 
Shell: 
Shell: WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
Shell: WARNING: sun.misc.Unsafe::arrayBaseOffset has been called by com.google.protobuf.UnsafeUtil$MemoryAccessor (file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar)
Shell: WARNING: Please consider reporting this to the maintainers of class com.google.protobuf.UnsafeUtil$MemoryAccessor
Shell: WARNING: sun.misc.Unsafe::arrayBaseOffset will be removed in a future release
ActivePeer(127.0.0.1:50003): Received sendPeerList
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
ActivePeer(127.0.0.1:50002): Sent activateEncryption request.
ActivePeer(127.0.0.1:50002): Finalizing Encryption...
ActivePeer(127.0.0.1:50002): Encryption Active!
ActivePeer(127.0.0.1:50002): Sending Initial ping (Encrypted)...
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel     
RedPandaLightClient: Received 3 peers from 127.0.0.1:50003
00:05 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state  
ActivePeer(127.0.0.1:50002): Requesting Peer List (Encrypted)...
Shell: Log: DEBUG: Processing ACTIVATE_ENCRYPTION. Remaining bytes: 8
Shell: Log: DEBUG: Parsed ACTIVATE_ENCRYPTION. Pending finalization.
Shell: Log: DEBUG: Conditions met. Generating Shared Secret and Activating Encryption.
Shell: Log: DEBUG: Encryption Activated.
Shell: Generating new ByteBuffer for pool. Free memory (MB): 55.40770721435547 Idle: 1 Active: 1 Waiters: 0
Shell: 
Shell: 
Shell: List of Pool: 
Shell: key: 16 size: 0
Shell: key: 1024 size: 1
Shell: 
Shell: 
Shell: 
Shell: Log: DEBUG: Written bytes for PING: 1
Shell: received first encrypted command...
Shell: received first ping...
ActivePeer(127.0.0.1:50002): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:50002): Sending pong...
Shell: 2025-12-30 21:33:41,267 [IncomingHandler] INFO  im.redpanda.core.ConnectionHandler - Connected successfully to 127.0.0.1:0 (KadId: t1fU3H53CM)
Shell: WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
Shell: WARNING: sun.misc.Unsafe::arrayBaseOffset has been called by com.google.protobuf.UnsafeUtil$MemoryAccessor (file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar)
Shell: WARNING: Please consider reporting this to the maintainers of class com.google.protobuf.UnsafeUtil$MemoryAccessor
Shell: WARNING: sun.misc.Unsafe::arrayBaseOffset will be removed in a future release
ActivePeer(127.0.0.1:50002): Received sendPeerList
RedPandaLightClient: Received 3 peers from 127.0.0.1:50002
00:07 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/peer_deduplication_test.dart: Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)
RedPandaLightClient: Running connection check. Known peers: 2
00:07 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to all seeds initially                        
RedPandaLightClient: Running connection check. Known peers: 2
Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 2aRKCQ7UGQ 59558
Shell: peer status for handshake: -1
Shell: peer disconnected...
00:07 +9 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/unit/multi_peer_test.dart: Multi-Peer Connection Routine Connects to new peers added to list                    
RedPandaLightClient: Running connection check. Known peers: 3
00:08 +10 -4: /Users/rbb/Documents/AI ... Peer Deduplication Does not connect to same peer twice via alias (localhost/127.0.0.1)                                                                       00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
RedPandaLightClient: Running connection check. Known peers: 4
ActivePeer(127.0.0.1:50003): Sending Ping (Latency Check)...
ActivePeer(127.0.0.1:50003): Received pong (Encrypted).
ActivePeer(127.0.0.1:50003): Latency updated to 2ms (current: 2ms)
ActivePeer(195.201.25.223:59558): Connecting...
ActivePeer(redpanda.im:59559): Connecting...
ActivePeer(127.0.0.1:59558): Connecting...
ActivePeer(127.0.0.1:59558): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:59558): Handshake sent (30 bytes)
ActivePeer(127.0.0.1:59558): Handshake Verified.
ActivePeer(127.0.0.1:59558): Requesting Peer Public Key...
ActivePeer(127.0.0.1:59558): Received activateEncryption
ActivePeer(127.0.0.1:59558): Initiating Encryption Handshake...
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
RedPandaLightClient: Running connection check. Known peers: 4
ActivePeer(127.0.0.1:50002): Sending Ping (Latency Check)...
ActivePeer(127.0.0.1:50002): Received pong (Encrypted).
ActivePeer(127.0.0.1:50002): Latency updated to 1ms (current: 1ms)
ActivePeer(195.201.25.223:59558): Connecting...
ActivePeer(redpanda.im:59559): Connecting...
ActivePeer(127.0.0.1:59558): Connecting...
ActivePeer(127.0.0.1:59558): TCP Connected. Sending Handshake...
ActivePeer(127.0.0.1:59558): Handshake sent (30 bytes)
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
ActivePeer(195.201.25.223:59558) connection failed: SocketException: Connection refused (OS Error: Connection refused, errno = 61), address = 195.201.25.223, port = 0
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(127.0.0.1:59558): Handshake Verified.
ActivePeer(127.0.0.1:59558): Requesting Peer Public Key...
ActivePeer(127.0.0.1:59558): Received activateEncryption
ActivePeer(127.0.0.1:59558): Initiating Encryption Handshake...
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
ActivePeer(redpanda.im:59559) connection failed: SocketException: Connection refused (OS Error: Connection refused, errno = 61), address = redpanda.im, port = 0
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(195.201.25.223:59558) connection failed: SocketException: Connection refused (OS Error: Connection refused, errno = 61), address = 195.201.25.223, port = 0
ActivePeer(redpanda.im:59559) connection failed: SocketException: Connection refused (OS Error: Connection refused, errno = 61), address = redpanda.im, port = 0
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
ActivePeer(127.0.0.1:59558): Sent activateEncryption request.
ActivePeer(127.0.0.1:59558): Peer Public Key missing. Deferring encryption finalization.
ActivePeer(127.0.0.1:59558): Received sendPublicKey
ActivePeer(127.0.0.1:59558): Peer Public Key Parsed.
ActivePeer(127.0.0.1:59558): Found pending encryption request. Finalizing now.
ActivePeer(127.0.0.1:59558): Finalizing Encryption...
ActivePeer(127.0.0.1:59558): Encryption Active!
ActivePeer(127.0.0.1:59558): Sending Initial ping (Encrypted)...
ActivePeer(127.0.0.1:59558): Requesting Peer List (Encrypted)...
ActivePeer(127.0.0.1:59558): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:59558): Sending pong...
ActivePeer(127.0.0.1:59558): Received sendPeerList
RedPandaLightClient: Received 2 peers from 127.0.0.1:59558
00:08 +11 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(127.0.0.1:59558): Sent activateEncryption request.
ActivePeer(127.0.0.1:59558): Peer Public Key missing. Deferring encryption finalization.
ActivePeer(127.0.0.1:59558): Received sendPublicKey
ActivePeer(127.0.0.1:59558): Peer Public Key Parsed.
ActivePeer(127.0.0.1:59558): Found pending encryption request. Finalizing now.
ActivePeer(127.0.0.1:59558): Finalizing Encryption...
00:08 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    00:08 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(127.0.0.1:59558): Encryption Active!
ActivePeer(127.0.0.1:59558): Sending Initial ping (Encrypted)...
ActivePeer(127.0.0.1:59558): Requesting Peer List (Encrypted)...
ActivePeer(127.0.0.1:59558): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:59558): Sending pong...
00:08 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
ActivePeer(127.0.0.1:59558) socket closed
00:08 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(127.0.0.1:59558): Received sendPeerList
RedPandaLightClient: Received 2 peers from 127.0.0.1:59558
00:09 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
ActivePeer(127.0.0.1:50003): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:50003): Sending pong...
00:09 +12 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_connect_test.dart: E2E Real Client Client connects to local node and transitions to connected state 
ActivePeer(127.0.0.1:50002): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:50002): Sending pong...
ActivePeer(127.0.0.1:50002) socket closed
ActivePeer(127.0.0.1:59558) socket closed
00:10 +13 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    Shell: Log: Verbindungsaufbau (127.0.0.1): k3gV 22 2aRKCQ7UGQ 59558
Shell: peer status for handshake: -1
Shell: written bytes to SEND_PUBLIC_KEY: 66
Shell: Log: DEBUG: Processing ACTIVATE_ENCRYPTION. Remaining bytes: 8
Shell: Log: DEBUG: Parsed ACTIVATE_ENCRYPTION. Pending finalization.
Shell: Log: DEBUG: Conditions met. Generating Shared Secret and Activating Encryption.
Shell: Log: DEBUG: Encryption Activated.
Shell: Log: DEBUG: Written bytes for PING: 1
Shell: received first encrypted command...
Shell: received first ping...
Shell: 2025-12-30 21:33:46,764 [IncomingHandler] INFO  im.redpanda.core.ConnectionHandler - Connected successfully to 127.0.0.1:59558 (KadId: 2aRKCQ7UGQ)
Shell: already connected to same node with same ip+port
Shell: 2025-12-30 21:33:46,765 [IncomingHandler] DEBUG im.redpanda.core.Node - seen, ip list for node: 127.0.0.1:59558 reties: 0, last seen: 0:00:00
00:11 +13 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    00:11 +13 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    
RedPandaLightClient: Running connection check. Known peers: 5
ActivePeer(127.0.0.1:50003): Sending Ping (Latency Check)...
RedPandaLightClient: Removing disconnected peer 195.201.25.223:59558
RedPandaLightClient: Removing disconnected peer redpanda.im:59559
RedPandaLightClient: Removing disconnected peer 127.0.0.1:59558
ActivePeer(127.0.0.1:50003): Received pong (Encrypted).
ActivePeer(127.0.0.1:50003): Latency updated to 2ms (current: 2ms)
ActivePeer(65.109.130.115:59558): Connecting...
ActivePeer(65.109.130.115:59558): TCP Connected. Sending Handshake...
ActivePeer(65.109.130.115:59558): Handshake sent (30 bytes)
ActivePeer(65.109.130.115:59558): Handshake Verified.
ActivePeer(65.109.130.115:59558): Requesting Peer Public Key...
ActivePeer(65.109.130.115:59558): Received activateEncryption
ActivePeer(65.109.130.115:59558): Initiating Encryption Handshake...
ActivePeer(127.0.0.1:50003): Received ping (Encrypted). Sending pong...
ActivePeer(127.0.0.1:50003): Sending pong...
ActivePeer(65.109.130.115:59558): Sent activateEncryption request.
ActivePeer(65.109.130.115:59558): Peer Public Key missing. Deferring encryption finalization.
ActivePeer(65.109.130.115:59558): Received sendPublicKey
ActivePeer(65.109.130.115:59558): Peer Public Key Parsed.
ActivePeer(65.109.130.115:59558): Found pending encryption request. Finalizing now.
ActivePeer(65.109.130.115:59558): Finalizing Encryption...
ActivePeer(65.109.130.115:59558): Encryption Active!
ActivePeer(65.109.130.115:59558): Sending Initial ping (Encrypted)...
ActivePeer(65.109.130.115:59558): Requesting Peer List (Encrypted)...
ActivePeer(65.109.130.115:59558): Received ping (Encrypted). Sending pong...
ActivePeer(65.109.130.115:59558): Sending pong...
ActivePeer(65.109.130.115:59558): Received sendPeerList
RedPandaLightClient: Received 4 peers from 65.109.130.115:59558
ActivePeer(65.109.130.115:59558): Received ping (Encrypted). Sending pong...
ActivePeer(65.109.130.115:59558): Sending pong...
Shell: added edge: 2kt1K1pSdi -> 2aRKCQ7UGQ
ActivePeer(127.0.0.1:50003) socket closed
ActivePeer(65.109.130.115:59558) socket closed
00:13 +14 -4: /Users/rbb/Documents/AI Test/redpanda/packages/redpanda_light_client/test/e2e/client_ping_pong_test.dart: E2E Real Client PING/PONG Client exchanges PING/PONG over encrypted channel    Shell: 2025-12-30 21:33:49,135 [Thread-1 - shutdownhook] INFO  im.redpanda.App - started shutdownhook...
Shell: 2025-12-30T20:33:49.136346Z pool-1-thread-1 INFO Stopping configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z]...
Shell: 2025-12-30T20:33:49.138048Z pool-1-thread-1 INFO Configuration XmlConfiguration[location=jar:file:/Users/rbb/Documents/AI%20Test/redpanda/references/redPandaj/target/redpanda.jar!/log4j2.xml, lastModified=1970-01-01T00:00:00Z] stopped.
00:13 +14 -4: Some tests failed.                                                                                                                                                                       
